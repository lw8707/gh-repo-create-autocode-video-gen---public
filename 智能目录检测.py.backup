#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
ã€æ™ºèƒ½ç›®å½•æ£€æµ‹ã€‘
è‡ªåŠ¨æ£€æµ‹å½“å‰ç›®å½•çŠ¶æ€å¹¶ç»™å‡ºæ­£ç¡®æŒ‡ä»¤
"""

import os
import subprocess

def æ£€æµ‹ç›®å½•çŠ¶æ€():
    print("ğŸ” ã€æ™ºèƒ½ç›®å½•æ£€æµ‹ã€‘")
    print("=" * 50)
    
    å½“å‰ç›®å½• = os.getcwd()
    print(f"å½“å‰ä½ç½®: {å½“å‰ç›®å½•}")
    
    # æ£€æŸ¥å…³é”®ç›®å½•
    å…³é”®ç›®å½• = [
        "æˆ‘çš„æ™ºèƒ½ä½“è¯¾ç¨‹",
        "è®°å¿†åº“", 
        "è¯¾ç¨‹",
        "è„šæœ¬"
    ]
    
    print("\nğŸ“ ç›®å½•ç»“æ„æ£€æŸ¥:")
    ç›®å½•çŠ¶æ€ = {}
    for ç›®å½• in å…³é”®ç›®å½•:
        å­˜åœ¨ = os.path.exists(ç›®å½•)
        ç›®å½•çŠ¶æ€[ç›®å½•] = å­˜åœ¨
        print(f"   {'âœ…' if å­˜åœ¨ else 'âŒ'} {ç›®å½•}: {'å­˜åœ¨' if å­˜åœ¨ else 'ç¼ºå¤±'}")
    
    # åˆ¤æ–­å½“å‰ç›®å½•ç±»å‹
    if å½“å‰ç›®å½•.endswith("æˆ‘çš„æ™ºèƒ½ä½“è¯¾ç¨‹"):
        print("\nğŸ¯ å½“å‰åœ¨: é¡¹ç›®ç›®å½•")
        print("ğŸ’¡ å»ºè®®: æ‰§è¡Œè®¤è¯æ“ä½œ")
        return "é¡¹ç›®ç›®å½•"
    elif æ‰€æœ‰ç›®å½•å­˜åœ¨(ç›®å½•çŠ¶æ€):
        print("\nğŸ¯ å½“å‰åœ¨: é¡¹ç›®æ ¹ç›®å½•")
        print("ğŸ’¡ å»ºè®®: å¯ä»¥æ‰§è¡Œå„ç§æ“ä½œ")
        return "æ ¹ç›®å½•"
    else:
        print("\nğŸ¯ å½“å‰åœ¨: æœªçŸ¥ç›®å½•")
        print("ğŸ’¡ å»ºè®®: åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•")
        return "æœªçŸ¥ç›®å½•"

def æ‰€æœ‰ç›®å½•å­˜åœ¨(ç›®å½•çŠ¶æ€):
    """æ£€æŸ¥æ‰€æœ‰å…³é”®ç›®å½•æ˜¯å¦å­˜åœ¨"""
    return all(ç›®å½•çŠ¶æ€.values())

def æä¾›æ“ä½œå»ºè®®(ç›®å½•ç±»å‹):
    """æ ¹æ®ç›®å½•ç±»å‹æä¾›æ“ä½œå»ºè®®"""
    print("\nğŸ¯ ã€æ“ä½œå»ºè®®ã€‘")
    print("=" * 50)
    
    if ç›®å½•ç±»å‹ == "é¡¹ç›®ç›®å½•":
        print("1. GitHubè®¤è¯: ./ç›´æ¥è®¤è¯.sh")
        print("2. è¿”å›æ ¹ç›®å½•: cd ..")
        print("3. æ£€æŸ¥çŠ¶æ€: git status")
        
    elif ç›®å½•ç±»å‹ == "æ ¹ç›®å½•":
        print("1. GitHubè®¤è¯: ./ç›´æ¥è®¤è¯.sh")
        print("2. è¿›å…¥é¡¹ç›®: cd æˆ‘çš„æ™ºèƒ½ä½“è¯¾ç¨‹")
        print("3. è¿è¡Œå·¥ä½œæµ: ./å®Œæ•´å·¥ä½œæµç¨‹.sh")
        
    else:
        print("1. æ‰¾åˆ°é¡¹ç›®ç›®å½•: cd ~/my-ai-business")
        print("2. æ£€æŸ¥ç›®å½•: ls -la")
        print("3. é‡æ–°è¿è¡Œæ£€æµ‹")

def æ£€æŸ¥GitHubçŠ¶æ€():
    """æ£€æŸ¥GitHubè¿æ¥çŠ¶æ€"""
    print("\nğŸŒ ã€GitHubçŠ¶æ€æ£€æŸ¥ã€‘")
    print("=" * 50)
    
    try:
        # æ£€æŸ¥æ˜¯å¦åœ¨Gitä»“åº“ä¸­
        çŠ¶æ€ç»“æœ = subprocess.run("git status", shell=True, capture_output=True, text=True)
        if çŠ¶æ€ç»“æœ.returncode == 0:
            print("âœ… Gitä»“åº“: æ­£å¸¸")
            
            # æ£€æŸ¥è¿œç¨‹ä»“åº“
            è¿œç¨‹ç»“æœ = subprocess.run("git remote -v", shell=True, capture_output=True, text=True)
            if "origin" in è¿œç¨‹ç»“æœ.stdout:
                print("âœ… è¿œç¨‹ä»“åº“: å·²é…ç½®")
            else:
                print("âŒ è¿œç¨‹ä»“åº“: æœªé…ç½®")
                
            # æ£€æŸ¥æ˜¯å¦æœ‰æäº¤
            æ—¥å¿—ç»“æœ = subprocess.run("git log --oneline -3", shell=True, capture_output=True, text=True)
            if æ—¥å¿—ç»“æœ.returncode == 0 and æ—¥å¿—ç»“æœ.stdout.strip():
                print("âœ… æäº¤å†å²: å­˜åœ¨")
            else:
                print("âš ï¸ æäº¤å†å²: æ— æˆ–å¾ˆå°‘")
                
        else:
            print("âŒ Gitä»“åº“: æœªåˆå§‹åŒ–æˆ–æœ‰é—®é¢˜")
            
    except Exception as e:
        print(f"âŒ GitHubæ£€æŸ¥å¤±è´¥: {e}")

# è¿è¡Œæ£€æµ‹
ç›®å½•ç±»å‹ = æ£€æµ‹ç›®å½•çŠ¶æ€()
æ£€æŸ¥GitHubçŠ¶æ€()
æä¾›æ“ä½œå»ºè®®(ç›®å½•ç±»å‹)

print("\nğŸ’ª æ ¹æ®å»ºè®®é€‰æ‹©ä¸‹ä¸€æ­¥æ“ä½œï¼")
